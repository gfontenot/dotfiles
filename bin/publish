#!/usr/bin/env ruby

require 'fileutils'
require 'date'

unless File.exists?('_site') && File.directory?('_site')
  puts "This does not appear to be a Jekyll site."
  exit
end

unless ARGV[0]
  puts "You need to tell me which file to publish!"
  exit
end

file = ARGV[0]

file_name = "#{Date.today.to_s}-#{file.split("/")[1]}"

FileUtils.mv(file, "_posts/#{file_name}")