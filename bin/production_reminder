#!/usr/bin/env ruby
#
# production_reminder
# 
# Created by Gordon Fontenot for WheelsTV
# 
# Simple script sends an email at a specific time
# (governed by a cron job) to WTV employees to remind
# them to fill out their production reports

require 'rubygems'
require 'pony'

Pony.options = { :from => "production@wheelstv.net", :via => :smtp, :via_options => {
  :address => "smtp.1and1.com",
  :port => "25", 
  :user_name => "production@wheelstv.net", 
  :password => "wheelstv123", 
  :authentication => :plain,
  :domain => "localhost.localdomain", 
  } }
  
employee_list = ["gkennedy@wheelstv.net", "nbrecken@wheelstv.net", "kreynolds@wheelstv.net", "lbonarrigo@wheelstv.net", "rnichols@wheelstv.net", "cdavis@wheelstv.net"]
subject = "Reminder: Fill out your production report!"
body = "Team,\n\nThis is a friendly reminder that you need to fill out your production reports.\n\nThanks,\nThe Management"


employee_list.each do |email_address|
  Pony.mail(:to => email_address, :subject => subject, :body => body)
end